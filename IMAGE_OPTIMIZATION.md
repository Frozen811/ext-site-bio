# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üì∏ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–°–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –≤–Ω–µ—à–Ω–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (i.ibb.co). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- ‚úÖ `<picture>` —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ `loading="lazy"` –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ `decoding="async"` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ê—Ç—Ä–∏–±—É—Ç—ã `width` –∏ `height` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è CLS
- ‚úÖ CSS –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–æ–≤
- ‚úÖ `object-fit: cover` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ë–∞–Ω–Ω–µ—Ä (dossier-banner)
| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä | –§–æ—Ä–º–∞—Ç |
|-----------|---------------|---------------------|--------|
| Mobile    | ‚â§480px        | 480√ó150px           | WebP   |
| Mobile    | ‚â§768px        | 768√ó180px           | WebP   |
| Tablet    | ‚â§992px        | 992√ó280px           | WebP   |
| Desktop   | >992px        | 1200√ó350px          | WebP   |
| Desktop 2x| >992px @2x    | 2400√ó700px          | WebP   |

### –ê–≤–∞—Ç–∞—Ä (avatar)
| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä | –§–æ—Ä–º–∞—Ç |
|-----------|---------------|---------------------|--------|
| Mobile    | ‚â§480px        | 110√ó110px           | WebP   |
| Mobile    | ‚â§768px        | 130√ó130px           | WebP   |
| Tablet    | ‚â§992px        | 160√ó160px           | WebP   |
| Desktop   | >992px        | 180√ó180px           | WebP   |
| Desktop 2x| >992px @2x    | 360√ó360px           | WebP   |

## üöÄ –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

**WebP** - —Å–∂–∏–º–∞–µ—Ç –Ω–∞ 25-35% –ª—É—á—à–µ —á–µ–º JPEG:

```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JPEG –≤ WebP
cwebp input.jpg -q 80 -o output.webp

# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PNG –≤ WebP
cwebp input.png -q 80 -o output.webp
```

**AVIF** - —Å–∂–∏–º–∞–µ—Ç –Ω–∞ 50% –ª—É—á—à–µ —á–µ–º JPEG (–Ω–æ–≤–µ–π—à–∏–π —Ñ–æ—Ä–º–∞—Ç):

```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ AVIF
avifenc --min 20 --max 63 input.jpg output.avif
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π

```bash
# –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π –¥–ª—è –±–∞–Ω–Ω–µ—Ä–∞
convert banner.jpg -resize 480x150^ -gravity center -extent 480x150 banner-480w.jpg
convert banner.jpg -resize 768x180^ -gravity center -extent 768x180 banner-768w.jpg
convert banner.jpg -resize 992x280^ -gravity center -extent 992x280 banner-992w.jpg
convert banner.jpg -resize 1200x350^ -gravity center -extent 1200x350 banner-1200w.jpg
convert banner.jpg -resize 2400x700^ -gravity center -extent 2400x700 banner-2400w.jpg
```

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ

```bash
# JPEG –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–∫–∞—á–µ—Å—Ç–≤–æ 80-85%)
jpegoptim --max=85 --strip-all image.jpg

# PNG –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
optipng -o7 image.png
pngquant --quality=65-80 image.png

# WebP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–∫–∞—á–µ—Å—Ç–≤–æ 80%)
cwebp -q 80 input.jpg -o output.webp
```

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π HTML —Å WebP

### –ü—Ä–∏–º–µ—Ä –¥–ª—è –±–∞–Ω–Ω–µ—Ä–∞ —Å WebP –∏ AVIF:

```html
<div class="dossier-banner">
  <picture>
    <!-- AVIF –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
    <source 
      type="image/avif"
      media="(max-width: 480px)" 
      srcset="images/banner-480w.avif">
    <source 
      type="image/avif"
      media="(max-width: 768px)" 
      srcset="images/banner-768w.avif">
    <source 
      type="image/avif"
      media="(max-width: 992px)" 
      srcset="images/banner-992w.avif">
    <source 
      type="image/avif"
      srcset="images/banner-1200w.avif 1x, images/banner-2400w.avif 2x">
    
    <!-- WebP –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
    <source 
      type="image/webp"
      media="(max-width: 480px)" 
      srcset="images/banner-480w.webp">
    <source 
      type="image/webp"
      media="(max-width: 768px)" 
      srcset="images/banner-768w.webp">
    <source 
      type="image/webp"
      media="(max-width: 992px)" 
      srcset="images/banner-992w.webp">
    <source 
      type="image/webp"
      srcset="images/banner-1200w.webp 1x, images/banner-2400w.webp 2x">
    
    <!-- JPEG fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
    <source 
      media="(max-width: 480px)" 
      srcset="images/banner-480w.jpg">
    <source 
      media="(max-width: 768px)" 
      srcset="images/banner-768w.jpg">
    <source 
      media="(max-width: 992px)" 
      srcset="images/banner-992w.jpg">
    
    <img 
      src="images/banner-1200w.jpg" 
      srcset="images/banner-1200w.jpg 1x, images/banner-2400w.jpg 2x"
      alt="EXTREME Banner" 
      loading="lazy" 
      decoding="async"
      width="1200" 
      height="350">
  </picture>
</div>
```

### –ü—Ä–∏–º–µ—Ä –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞:

```html
<div class="avatar-wrapper">
  <picture>
    <!-- AVIF -->
    <source 
      type="image/avif"
      media="(max-width: 480px)" 
      srcset="images/avatar-110w.avif">
    <source 
      type="image/avif"
      media="(max-width: 768px)" 
      srcset="images/avatar-130w.avif">
    <source 
      type="image/avif"
      srcset="images/avatar-180w.avif 1x, images/avatar-360w.avif 2x">
    
    <!-- WebP -->
    <source 
      type="image/webp"
      media="(max-width: 480px)" 
      srcset="images/avatar-110w.webp">
    <source 
      type="image/webp"
      media="(max-width: 768px)" 
      srcset="images/avatar-130w.webp">
    <source 
      type="image/webp"
      srcset="images/avatar-180w.webp 1x, images/avatar-360w.webp 2x">
    
    <!-- JPEG fallback -->
    <img 
      src="images/avatar-180w.jpg" 
      srcset="images/avatar-180w.jpg 1x, images/avatar-360w.jpg 2x"
      alt="EXTREME Avatar" 
      class="avatar" 
      loading="lazy" 
      decoding="async"
      width="180" 
      height="180">
  </picture>
</div>
```

## üõ†Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–æ–≤

### Node.js —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```javascript
// optimize-images.js
const sharp = require('sharp');
const fs = require('fs');
const path = require('path');

const sizes = {
  banner: [
    { width: 480, height: 150, suffix: '480w' },
    { width: 768, height: 180, suffix: '768w' },
    { width: 992, height: 280, suffix: '992w' },
    { width: 1200, height: 350, suffix: '1200w' },
    { width: 2400, height: 700, suffix: '2400w' }
  ],
  avatar: [
    { width: 110, height: 110, suffix: '110w' },
    { width: 130, height: 130, suffix: '130w' },
    { width: 160, height: 160, suffix: '160w' },
    { width: 180, height: 180, suffix: '180w' },
    { width: 360, height: 360, suffix: '360w' }
  ]
};

async function optimizeImage(inputPath, outputDir, sizes, type) {
  const filename = path.parse(inputPath).name;
  
  for (const size of sizes) {
    // WebP
    await sharp(inputPath)
      .resize(size.width, size.height, { fit: 'cover', position: 'center' })
      .webp({ quality: 80 })
      .toFile(path.join(outputDir, `${filename}-${size.suffix}.webp`));
    
    // AVIF
    await sharp(inputPath)
      .resize(size.width, size.height, { fit: 'cover', position: 'center' })
      .avif({ quality: 65 })
      .toFile(path.join(outputDir, `${filename}-${size.suffix}.avif`));
    
    // JPEG fallback
    await sharp(inputPath)
      .resize(size.width, size.height, { fit: 'cover', position: 'center' })
      .jpeg({ quality: 85, progressive: true })
      .toFile(path.join(outputDir, `${filename}-${size.suffix}.jpg`));
    
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ: ${filename}-${size.suffix} (WebP, AVIF, JPEG)`);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// node optimize-images.js banner.jpg images banner
// node optimize-images.js avatar.jpg images avatar
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
npm install sharp
```

## üìä –û–∂–∏–¥–∞–µ–º–∞—è —ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –û—Ä–∏–≥–∏–Ω–∞–ª | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –≠–∫–æ–Ω–æ–º–∏—è |
|-----------|----------|-------------------|----------|
| Mobile    | ~500KB   | ~50-80KB (WebP)   | 84-90%   |
| Tablet    | ~800KB   | ~100-150KB (WebP) | 81-87%   |
| Desktop   | ~1.2MB   | ~200-300KB (WebP) | 75-83%   |
| Desktop 2x| ~2.5MB   | ~400-600KB (WebP) | 76-84%   |

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `<picture>` —ç–ª–µ–º–µ–Ω—Ç
- [x] –î–æ–±–∞–≤–∏—Ç—å `loading="lazy"`
- [x] –î–æ–±–∞–≤–∏—Ç—å `decoding="async"`
- [x] –£–∫–∞–∑–∞—Ç—å `width` –∏ `height`
- [ ] –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ WebP
- [ ] –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ AVIF
- [ ] –°–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –¥–ª—è Retina (@2x)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å HTTP/2 Push –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üåê CDN —Ä–µ—à–µ–Ω–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π

–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **Cloudflare Images** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è
2. **imgix** - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –ª–µ—Ç—É
3. **Cloudinary** - AI-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç
4. **ImageKit.io** - real-time –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Cloudinary:

```html
<img 
  src="https://res.cloudinary.com/demo/image/upload/w_480,h_150,c_fill,f_auto,q_auto/banner.jpg"
  srcset="
    https://res.cloudinary.com/demo/image/upload/w_480,h_150,c_fill,f_auto,q_auto/banner.jpg 480w,
    https://res.cloudinary.com/demo/image/upload/w_768,h_180,c_fill,f_auto,q_auto/banner.jpg 768w,
    https://res.cloudinary.com/demo/image/upload/w_1200,h_350,c_fill,f_auto,q_auto/banner.jpg 1200w"
  sizes="(max-width: 480px) 480px, (max-width: 768px) 768px, 1200px"
  alt="EXTREME Banner"
  loading="lazy">
```

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [WebP Documentation](https://developers.google.com/speed/webp)
- [AVIF Documentation](https://avif.io/)
- [Sharp Image Processing](https://sharp.pixelplumbing.com/)
- [Web.dev Image Optimization](https://web.dev/fast/#optimize-your-images)

